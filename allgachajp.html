<!DOCTYPE html><html lang=zh-Hant><head><meta charset=utf-8><title>轉蛋詳細(日文版)</title><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=stylesheet type=text/css href=/dracula.css><link rel=stylesheet type=text/css href=w3.css></head><body><style>
body { font-size: max(20px, 1.2vw);padding:0;margin:0; }

.topnav { background-color: #333 !important;margin-block:0; display: inline-block;width: 100%;text-align:center;font-size: min(2vw, 20px) !important; }
.topnav > a { display: inline-block;color: #f2f2f2 !important; padding: 1vh 2vw; text-decoration: none;cursor: pointer;vertical-align: middle; }
.topnav > a.active { background-color: #4caf50 !important; }
.topnav > a:visited { text-decoration: none; }
.topnav > a:hover { background-color: #009688 !important; }
.topnav svg { background-color: inherit !important;height: 1.3em; }
#site-search {
  display: none;
  width: 175px;
  padding: 0.1em 0.2em;
}
#search-btn {
  all: unset;
  vertical-align: middle;
  cursor: pointer;
  background-color: transparent !important;
}
#search-btn svg {
  width: 12px;
  height: 12px;
  fill: white;
}
@media (min-width:800px) {
  #site-search {
    display: inline-block;
    width: 20vw;
    padding: 5px 10px;
  }
  #search-btn {
    position: relative;
    top: 3px;
    right: 30px;
  }
  #search-btn svg {
    height: 22px;
    width: 22px;
    fill: black;
  }
}
#site-s-result {
  background-color: white !important;
  display: none;
  position: absolute;
  z-index: 10;
  left: 0;
  top: 0;
}
#site-s-result > * {
  width: 100%;
  padding: 0.7em 2em;
  color: black !important;
  background-color: transparent !important;
}
#site-s-result > *:hover {
  background-color: #e7e7e7 !important;
  color: black !important;
}

#loader {
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 1;
  width: 120px;
  height: 120px;
  margin: -76px 0 0 -76px;
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #3498db;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
}
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
#loader-text {
  position: absolute;
  left: calc(50% - 60px);
  top: 60%;
  z-index: 2;
  text-align: center;
  width: 120px;
  height: 120px;
}
p {
	margin-block-start: 1em;
    margin-block-end: 0;
    white-space: nowrap;
}
.M {
	margin-bottom: 1em;
}
.fw{
	font-weight: bold;
}
.orange{
	color: #FF6600;
}
.lightblue{
	color: #00fffc;
}
.red{
	color: #F00;
}
.yellow{
	color: #FF0;
}
.green{
	color: #008f03;
}
.purple{
	color: #82318E;
}
.pink{
	color: #F0C;
}
.blue{
	color: #00baff;
}
.fs76{
	font-size: 76%;
}
select {
  width: 100%;
  padding: 0.7em 1em;
  border: none;
  border-radius: 4px;
  background-color: #adacac57 !important;
  border-bottom:1px solid #ccc !important;
}
h1,h2 {color: var(--color) !important;}
</style><div class=topnav><a href=/index.html>主頁</a><a href=/search.html>貓咪</a><a href=/esearch.html>敵人</a><a href=/gachas.html>轉蛋</a><a href=/stage.html>關卡</a><a href=/music.html>音效</a><a href=/reward_all.html>獎勵</a><a title=設定 href=/settings.html style="float: right;"><svg viewbox="0 0 24 24"><path fill=white d="M20.1 9.2214C18.29 9.2214 17.55 7.9414 18.45 6.3714C18.97 5.4614 18.66 4.3014 17.75 3.7814L16.02 2.7914C15.23 2.3214 14.21 2.6014 13.74 3.3914L13.63 3.5814C12.73 5.1514 11.25 5.1514 10.34 3.5814L10.23 3.3914C9.78 2.6014 8.76 2.3214 7.97 2.7914L6.24 3.7814C5.33 4.3014 5.02 5.4714 5.54 6.3814C6.45 7.9414 5.71 9.2214 3.9 9.2214C2.86 9.2214 2 10.0714 2 11.1214V12.8814C2 13.9214 2.85 14.7814 3.9 14.7814C5.71 14.7814 6.45 16.0614 5.54 17.6314C5.02 18.5414 5.33 19.7014 6.24 20.2214L7.97 21.2114C8.76 21.6814 9.78 21.4014 10.25 20.6114L10.36 20.4214C11.26 18.8514 12.74 18.8514 13.65 20.4214L13.76 20.6114C14.23 21.4014 15.25 21.6814 16.04 21.2114L17.77 20.2214C18.68 19.7014 18.99 18.5314 18.47 17.6314C17.56 16.0614 18.3 14.7814 20.11 14.7814C21.15 14.7814 22.01 13.9314 22.01 12.8814V11.1214C22 10.0814 21.15 9.2214 20.1 9.2214ZM12 15.2514C10.21 15.2514 8.75 13.7914 8.75 12.0014C8.75 10.2114 10.21 8.7514 12 8.7514C13.79 8.7514 15.25 10.2114 15.25 12.0014C15.25 13.7914 13.79 15.2514 12 15.2514Z"/></svg></a><a title=佈景主題 onclick=toggleTheme() style="float: right;"><svg viewbox="0 0 24 24"><path fill=white d="M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,20 L12,4 C16.418278,4 20,7.581722 20,12 C20,16.418278 16.418278,20 12,20 Z"></path></svg></a><a style="position: relative;float: right;"><input autocomplete=off id=site-search type=text name=search style="font-size: 17px;border: 1px solid rgba(0, 0, 0, 0.25) !important;border-radius: 25px;font-style: italic;background-color: white !important;color: black !important;" placeholder=Search... aria-label=search><button id=search-btn onclick=site_search()><svg viewbox="0 0 50 50" width=50px height=50px><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg></button><div style="position: relative;" class=w3-card><div id=site-s-result><div onclick="_s_open('/search.html?q=')">搜尋貓咪</div><div onclick="_s_open('/esearch.html?q=')">搜尋敵人</div><div onclick="_s_open('/stage.html?q=')">搜尋關卡</div></div></div></a></div><script src=/dracula.js></script><div id=loader-text>載入中...</div><div id=loader></div><div id=main><form style=margin-top:0.5em;><div class=w3-row-padding><div class=w3-half><select name=gacha-type id=gacha-type><option value=rare selected>稀有轉蛋</option><option value=event>活動轉蛋</option><option value=normal>普通轉蛋</option></select></div><div class=w3-half><select name=gacha-id id=gacha-id></select></div></div></form><h1 style="text-align: center;font-size: 1.3em;margin: 1em 0;">轉蛋詳細資料</h2><img width=860 height=240 style="display: block;margin: 1em auto;max-width: 100%;" id=banner><h2 style="text-align: center;font-size: 1.1em;"><a id=ponos>官方介紹</a></h2><table class="w3-table w3-centered w3-striped"><tbody id=tbody></tbody></table></div><script src=cat.js></script><script src=allgachajp.js></script><script>
var cats;
const main = document.getElementById('main');
const gacha_id = document.getElementById('gacha-id');
const tbody = document.getElementById('tbody');
const banner = document.getElementById('banner');
const gacha_type = document.getElementById('gacha-type');
const h1 = document.querySelector('h1');
const ponos = document.getElementById('ponos');
function t3str(x) {
    var s = x.toString();
    switch (s.length) {
      case 2:
        return "0" + s;
      case 1:
        return "00" + s;
    }
    return s;
}
loadAllCats().then(_cs => {
	cats = _cs;
	document.getElementById('loader').style.display = 'none';
	document.getElementById('loader-text').style.display = 'none';
	main.style.display = 'block';
	const url = new URL(location.href);
	let params_id = url.searchParams.get('id');
	if (params_id) {
		switch (params_id[0]) {
		case 'R': gacha_type.selectedIndex = 0; break;
		case 'E': gacha_type.selectedIndex = 1; break;
		case 'N': gacha_type.selectedIndex = 2; break;
		}
		params_id = params_id.slice(1);
	}
	(gacha_type.onchange = function() {
		const ty = gacha_type.value;
		const sets = window[ty + '_gachas'];
		gacha_id.textContent = '';
		let opt;
		for (let [k, v] of Object.entries(sets)) {
			opt = document.createElement('option');
			opt.value = k;
			opt.innerHTML = v[0];
			gacha_id.appendChild(opt);
		}
		gacha_id.selectedIndex = 0;
	})();
	if (params_id)
		gacha_id.value = parseInt(params_id);
	(gacha_id.onchange = function() {
		const g_id = parseInt(gacha_id.value);
		const url = new URL(location.pathname, location.href);
		switch (gacha_type.selectedIndex) {
			case 0:
				banner.src = 'https://battlecatsinfo.github.io/img/y/gatya_bnr' + g_id + '.png';
				break;
			case 1:
				banner.src = 'https://battlecatsinfo.github.io/img/y/gatya_e_bnr' + g_id + '.png';
				break;
			default:
				banner.src = '';
				break;
		}
		const PRE = ['R', 'E', 'N'][gacha_type.selectedIndex];
		const ty = gacha_type.value;
		url.searchParams.set('id', PRE + t3str(g_id));
		history.pushState({}, "", url);
		const set = window[ty + '_gachas'][g_id];
		const units = set[1];
		ponos.href = `https://ponosgames.com/information/appli/battlecats/gacha/${ty}/${PRE}${t3str(g_id)}.html`;
		h1.innerHTML = set[0];
		tbody.textContent = '';
		var old_tr, tr;
		units.sort((a, b) => {
			cats[b].info.rarity - cats[a].info.rarity;
		});
		for (let id of units) {
			if (old_tr)
				tr = old_tr, old_tr = null;
			else
				tr = old_tr = document.createElement('tr');
			const td = document.createElement('td');
			td.classList.add('w3-card');
			const p = document.createElement('p');
			const f = cats[id].forms[0];
			p.textContent = f.name || f.jp_name;
			const a = document.createElement('a');
			a.style.display = 'block';
			const img = new Image();
			img.src = 'https://battlecatsinfo.github.io' + f.icon;
			a.href = '/unit.html?id=' + id.toString();
			const descs = document.createElement('p');
			descs.classList.add('M');
			for (let s of f.desc.split('<br>'))
				descs.append(s), descs.appendChild(document.createElement('br'));
			a.appendChild(img);
			td.appendChild(p);
			td.appendChild(a);
			td.appendChild(descs);
			tr.appendChild(td);
			tbody.appendChild(tr);
		}
	})();
});
</script></body></html>